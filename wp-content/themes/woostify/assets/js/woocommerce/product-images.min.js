"use strict";function renderSlider(e,t){var i=document.querySelectorAll(e);if(i.length)for(var n=0,o=i.length;n<o;n++)if(!i[n].classList.contains("flickity-enabled"))new Flickity(t.container,t)}function createImages(e,t,i){var n='<figure class="image-item ez-zoom" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">';return n+="<a href="+e+" data-size="+i+' itemprop="contentUrl" data-elementor-open-lightbox="no">',n+="<img src="+t+' itemprop="thumbnail">',n+="</a>",n+="</figure>"}function createThumbnails(e){var t='<div class="thumbnail-item">';return t+='<img src="'+e+'">',t+="</div>"}function woostifyStickySummary(){if(woostify_woocommerce_general.enabled_sticky_product_summary){var e=document.querySelector(".has-gallery-list-layout .product-gallery.has-product-thumbnails"),t=document.querySelector(".has-gallery-list-layout .product-summary");if(e&&t&&!(window.innerWidth<992)&&!(e.offsetHeight<=t.offsetHeight)){var i=new WSYSticky(".summary.entry-summary",{stickyContainer:".product-page-container",marginTop:parseInt(woostify_woocommerce_general.sticky_top_space),marginBottom:parseInt(woostify_woocommerce_general.sticky_bottom_space)});jQuery("form.variations_form").on("found_variation",(function(){i.update()}))}}}document.addEventListener("DOMContentLoaded",(function(){var e,t,i,n=document.querySelector(".product-gallery"),o=document.getElementById("product-thumbnail-images"),r=!!n&&(n.classList.contains("column-style")||n.classList.contains("grid-style")),a=document.createElement("button"),s=document.createElement("button"),c=woostify_product_images_slider_options.main,l=!!n&&n.querySelector(".image-item img"),d=(l&&l.offsetHeight,woostify_product_images_slider_options.thumb);function u(){var e=!!n&&n.querySelector(".image-item img"),t=e?e.offsetHeight:0;o.style.maxHeight=t+"px"}function m(){if(o&&n&&(n.classList.contains("horizontal-style")||window.matchMedia("( max-width: 767px )").matches)){var e=o.querySelectorAll(".thumbnail-item"),t=0;e.length&&e.forEach((function(e){var i=e.offsetWidth;i+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-left")),i+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-right")),t+=i})),t>=o.offsetWidth?(d.groupCells="60%",d.wrapAround=!0,i&&i.slider&&(i.destroy(),i=new Flickity(d.container,d))):(d.groupCells="3",d.wrapAround=!1,i&&i.slider&&(i.destroy(),i=new Flickity(d.container,d)))}}function y(){var e=document.querySelector(".flickity-button.next"),t=document.querySelector(".flickity-button.previous");e&&(e.innerHTML=woostify_product_images_slider_options.next_icon),t&&(t.innerHTML=woostify_product_images_slider_options.prev_icon)}function f(){var e=o.querySelectorAll(".thumbnail-item"),t=0;e.length&&e.forEach((function(e){var i=e.offsetHeight;i+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-top")),i+=parseInt(window.getComputedStyle(e).getPropertyValue("margin-bottom")),t+=i})),t>o.offsetHeight?(o.classList.add("has-buttons"),s.style.display="block",a.style.display="block"):(o.classList.remove("has-buttons"),s.style.display="none",a.style.display="none")}function h(){var e=o.parentElement;a.classList.add("thumb-btn","thumb-prev-btn","prev"),a.innerHTML=woostify_product_images_slider_options.vertical_prev_icon,s.classList.add("thumb-btn","thumb-next-btn","next"),s.innerHTML=woostify_product_images_slider_options.vertical_next_icon,e.appendChild(a),e.appendChild(s),f();var i=document.querySelectorAll(".thumb-btn");i.length&&i.forEach((function(e){e.addEventListener("click",(function(){this.classList.contains("prev")?t.previous():t.next()}))}))}function p(){!document.querySelector(".has-gallery-list-layout .product-gallery.has-product-thumbnails")||window.innerWidth>991||(c.on={ready:function(){y()}},e=new Flickity("#product-images",c))}function g(){var e=o,i=e.querySelectorAll(".thumbnail-item");i[0].classList.add("is-nav-selected"),i[0].classList.add("is-selected"),i.forEach((function(e,i){e.addEventListener("click",(function(){t.select(i)}))}));var n=0<t.selectedIndex?i[t.selectedIndex].offsetHeight:i[0].offsetHeight,r=e.offsetHeight;t.on("select",(function(){e.querySelectorAll(".thumbnail-item").forEach((function(e){e.classList.remove("is-nav-selected","is-selected")}));var o=0<=t.selectedIndex?i[t.selectedIndex]:i[0];o.classList.add("is-nav-selected","is-selected");var a=o.offsetTop+e.scrollTop-(r+n)/2;e.scrollTo({top:a,behavior:"smooth"})}))}function w(){t&&t.slider&&t.select(0),e&&e.slider&&e.select(0)}function _(a,s,l){if(a.length&&!document.documentElement.classList.contains("quick-view-open")){n||(n=document.querySelector(".product-gallery"));for(var f="",w="",_=0,v=a.length;_<v;_++)if(s){var b=a[_].full_src_w+"x"+a[_].full_src_h;f+=createImages(a[_].full_src,a[_].src,b),w+=createThumbnails(a[_].gallery_thumbnail_src)}else if(l&&l==a[_][0].variation_id)if(1>=a[_].length-1){w="";for(var S=1,L=a[_].length;S<L;S++){b=a[_][S].full_src_w+"x"+a[_][S].full_src_h;f+=createImages(a[_][S].full_src,a[_][S].src,b)}}else for(S=1,L=a[_].length;S<L;S++){b=a[_][S].full_src_w+"x"+a[_][S].full_src_h;f+=createImages(a[_][S].full_src,a[_][S].src,b),w+=createThumbnails(a[_][S].gallery_thumbnail_src)}if(t&&t.slider&&t.destroy(),i&&i.slider&&i.destroy(),e&&e.slider&&e.destroy(),f&&document.querySelector(".product-images")&&(document.querySelector(".product-images").querySelector("#product-images").innerHTML=f),document.querySelector(".product-thumbnail-images"))if(""!==w){var q=document.querySelector(".product-thumbnail-images").querySelector("#product-thumbnail-images");q||(q=document.createElement("div")).setAttribute("id","product-thumbnail-images"),document.querySelector(".product-thumbnail-images").appendChild(q).innerHTML=w,document.querySelector(".product-gallery")&&document.querySelector(".product-gallery").classList.add("has-product-thumbnails")}else document.querySelector(".product-thumbnail-images").innerHTML="";r?p():(o=document.getElementById("product-thumbnail-images"))&&(c.on={ready:function(){y(),window.matchMedia("( min-width: 768px )").matches&&n&&n.classList.contains("vertical-style")&&u()}},t=new Flickity(c.container,c),m(),n&&(window.matchMedia("( max-width: 767px )").matches?i=new Flickity(d.container,d):n.classList.contains("vertical-style")?(g(),h()):i=new Flickity(d.container,d)));var E=document.querySelectorAll(".product-thumbnail-images .thumbnail-item");document.querySelector(".product-thumbnail-images")&&(E.length<2?document.querySelector(".product-thumbnail-images").classList.add("has-single-thumbnail-image"):document.querySelector(".product-thumbnail-images")&&document.querySelector(".product-thumbnail-images").classList.remove("has-single-thumbnail-image")),"function"==typeof easyZoomHandle&&easyZoomHandle(),"function"==typeof initPhotoSwipe&&initPhotoSwipe("#product-images"),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200)}}function v(){jQuery("form.variations_form").on("found_variation",(function(e,t){w(),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200),"undefined"!=typeof woostify_variation_gallery&&woostify_variation_gallery.length&&_(woostify_variation_gallery,!1,t.variation_id)})),jQuery(".reset_variations").on("click",(function(){"undefined"!=typeof woostify_variation_gallery&&woostify_variation_gallery.length&&_(woostify_default_gallery,!0),w(),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200),(document.body.classList.contains("elementor-editor-active")||document.body.classList.contains("elementor-editor-preview"))&&(document.getElementById("product-thumbnail-images")||document.querySelector(".product-gallery").classList.remove("has-product-thumbnails"))}))}window.matchMedia("( min-width: 768px )").matches&&n&&n.classList.contains("vertical-style")&&(d.draggable=!1),o&&(c.on={ready:function(){y(),window.matchMedia("( min-width: 768px )").matches&&n&&n.classList.contains("vertical-style")&&u()}},t=new Flickity(c.container,c),m(),n&&(window.matchMedia("( max-width: 767px )").matches?i=new Flickity(d.container,d):n.classList.contains("vertical-style")?(g(),h()):i=new Flickity(d.container,d))),window.addEventListener("resize",(function(){window.matchMedia("( min-width: 768px )").matches&&n&&n.classList.contains("vertical-style")&&o&&(u(),g(),f()),m()})),v(),p(),window.addEventListener("load",(function(){woostifyStickySummary(),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200)})),"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(){document.getElementById("product-thumbnail-images")&&(renderSlider(c.container,c),renderSlider(d.container,d)),v()}))}))}));